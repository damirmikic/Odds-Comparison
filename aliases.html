<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alias Manager ‚Äî OddsCompare</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;600;700&family=Outfit:wght@400;500;600&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="aliases.css" />
</head>
<body>

    <!-- ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <header class="am-header">
        <a class="am-back" href="soccer.html" title="Back to comparison">‚Üê Back</a>
        <div class="am-logo">
            <span>‚öΩ</span>
            <span class="am-logo-name">ODDS<em>COMPARE</em></span>
            <span class="am-logo-tag">ALIAS MANAGER</span>
        </div>
        <div class="am-header-actions">
            <button class="am-btn am-btn-ghost" id="btnImport" title="Import aliases.json">‚Üë Import JSON</button>
            <button class="am-btn am-btn-danger" id="btnClearAll" title="Delete all aliases">‚úï Clear All</button>
        </div>
    </header>

    <!-- ‚îÄ‚îÄ MODE BAR ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div class="am-modebar">
        <div class="am-modes">
            <button class="am-mode-btn active" data-mode="browse">üìã Browse</button>
            <button class="am-mode-btn" data-mode="discover">üîç Discover</button>
        </div>
        <div class="am-modebar-info" id="modeInfo"></div>
    </div>

    <!-- ‚îÄ‚îÄ BROWSE MODE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div class="am-mode-panel active" id="modeBrowse">

        <div class="am-browse-bar">
            <div class="am-ent-toggle">
                <button class="am-ent-btn active" data-type="teams">
                    üë§ Teams <span class="am-ent-count" id="browseTeamCount">0</span>
                </button>
                <button class="am-ent-btn" data-type="leagues">
                    üèÜ Leagues <span class="am-ent-count" id="browseLeagueCount">0</span>
                </button>
            </div>
            <input class="am-input am-search" id="browseSearch" placeholder="Search entities‚Ä¶" autocomplete="off" />
            <button class="am-btn am-btn-primary" id="btnNewEntity">+ New</button>
        </div>

        <div class="am-browse-layout">
            <!-- Left: canonical entity list -->
            <div class="am-browse-list" id="browseList">
                <div class="am-empty">Loading‚Ä¶</div>
            </div>

            <!-- Right: entity detail -->
            <div class="am-browse-detail" id="browseDetail">
                <div class="am-detail-empty">Select an entity from the left</div>
            </div>
        </div>

    </div>

    <!-- ‚îÄ‚îÄ DISCOVER MODE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div class="am-mode-panel" id="modeDiscover">

        <div class="am-disc-toolbar">
            <button class="am-btn am-btn-primary" id="btnDiscLoad">‚ü≥ Load Live Data</button>
            <div class="am-ent-toggle">
                <button class="am-ent-btn active" data-disc-type="teams">Teams</button>
                <button class="am-ent-btn" data-disc-type="leagues">Leagues</button>
            </div>
            <label class="am-toggle-wrap">
                <input type="checkbox" id="chkDiscUnmapped" />
                <span class="am-toggle-label">Unmapped only</span>
            </label>
        </div>

        <div class="am-disc-layout">
            <!-- 4 bookie columns -->
            <div class="am-disc-columns" id="discColumns">
                <div class="am-disc-col" id="discCol_merkur">
                    <div class="am-disc-col-head">
                        <div class="am-disc-col-head-title">
                            <span class="am-bk-dot am-bk-m"></span>
                            <span>MerkurXtip</span>
                            <span class="am-disc-col-count" id="discCount_merkur"></span>
                        </div>
                        <input class="am-input am-disc-col-search" id="discSearch_merkur" list="dlDisc_merkur" placeholder="Search‚Ä¶" autocomplete="off" />
                    </div>
                    <div class="am-disc-col-list" id="discList_merkur">
                        <div class="am-picker-empty">Click "Load Live Data" to start</div>
                    </div>
                </div>
                <div class="am-disc-col" id="discCol_maxbet">
                    <div class="am-disc-col-head">
                        <div class="am-disc-col-head-title">
                            <span class="am-bk-dot am-bk-b"></span>
                            <span>MaxBet</span>
                            <span class="am-disc-col-count" id="discCount_maxbet"></span>
                        </div>
                        <input class="am-input am-disc-col-search" id="discSearch_maxbet" list="dlDisc_maxbet" placeholder="Search‚Ä¶" autocomplete="off" />
                    </div>
                    <div class="am-disc-col-list" id="discList_maxbet">
                        <div class="am-picker-empty">Click "Load Live Data" to start</div>
                    </div>
                </div>
                <div class="am-disc-col" id="discCol_soccerbet">
                    <div class="am-disc-col-head">
                        <div class="am-disc-col-head-title">
                            <span class="am-bk-dot am-bk-s"></span>
                            <span>SoccerBet</span>
                            <span class="am-disc-col-count" id="discCount_soccerbet"></span>
                        </div>
                        <input class="am-input am-disc-col-search" id="discSearch_soccerbet" list="dlDisc_soccerbet" placeholder="Search‚Ä¶" autocomplete="off" />
                    </div>
                    <div class="am-disc-col-list" id="discList_soccerbet">
                        <div class="am-picker-empty">Click "Load Live Data" to start</div>
                    </div>
                </div>
                <div class="am-disc-col" id="discCol_cloudbet">
                    <div class="am-disc-col-head">
                        <div class="am-disc-col-head-title">
                            <span class="am-bk-dot am-bk-cl"></span>
                            <span>Cloudbet</span>
                            <span class="am-disc-col-count" id="discCount_cloudbet"></span>
                        </div>
                        <input class="am-input am-disc-col-search" id="discSearch_cloudbet" list="dlDisc_cloudbet" placeholder="Search‚Ä¶" autocomplete="off" />
                    </div>
                    <div class="am-disc-col-list" id="discList_cloudbet">
                        <div class="am-picker-empty">Click "Load Live Data" to start</div>
                    </div>
                </div>
            </div>

            <!-- Assignment panel -->
            <div class="am-disc-assign" id="discAssign">
                <div class="am-assign-empty">Load live data then select names from the columns to map them</div>
            </div>
        </div>

    </div>

    <!-- ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div class="am-toast" id="toast"></div>

    <!-- ‚îÄ‚îÄ NEW ENTITY MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div class="am-modal-overlay" id="newEntityModal">
        <div class="am-modal">
            <div class="am-modal-head" id="newEntityModalTitle">New Team</div>
            <input class="am-input am-modal-input" id="newEntityName" placeholder="Canonical name‚Ä¶" autocomplete="off" />
            <div id="newEntityLeagueFields" style="display:none;">
                <input class="am-input am-modal-input" id="newEntityCountry" placeholder="Country (optional)‚Ä¶" autocomplete="off" />
                <input class="am-input am-modal-input" id="newEntityGroup" placeholder="Group (optional)‚Ä¶" autocomplete="off" />
                <input class="am-input am-modal-input" id="newEntityDisplay" placeholder="Display name (optional)‚Ä¶" autocomplete="off" />
            </div>
            <div class="am-modal-actions">
                <button class="am-btn am-btn-primary" id="btnNewEntityConfirm">Create</button>
                <button class="am-btn am-btn-ghost" id="btnNewEntityCancel">Cancel</button>
            </div>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ IMPORT MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div class="am-modal-overlay" id="importModal">
        <div class="am-modal">
            <div class="am-modal-head">Import Aliases (JSON)</div>
            <textarea class="am-modal-textarea" id="importText" placeholder="Paste exported JSON here‚Ä¶"></textarea>
            <div class="am-modal-actions">
                <button class="am-btn am-btn-primary" id="btnImportConfirm">Import</button>
                <button class="am-btn am-btn-ghost" id="btnImportCancel">Cancel</button>
            </div>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ DATALISTS (discover column search) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <datalist id="dlDisc_merkur"></datalist>
    <datalist id="dlDisc_maxbet"></datalist>
    <datalist id="dlDisc_soccerbet"></datalist>
    <datalist id="dlDisc_cloudbet"></datalist>

    <!-- ‚îÄ‚îÄ DATALISTS (autocomplete for add-alias form) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <datalist id="dlMrkTeams"></datalist>
    <datalist id="dlMaxTeams"></datalist>
    <datalist id="dlSbtTeams"></datalist>
    <datalist id="dlClbTeams"></datalist>
    <datalist id="dlMrkLeagues"></datalist>
    <datalist id="dlMaxLeagues"></datalist>
    <datalist id="dlSbtLeagues"></datalist>
    <datalist id="dlClbLeagues"></datalist>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="aliases.js"></script>
    <script src="aliases-ui.js"></script>
</body>
</html>
